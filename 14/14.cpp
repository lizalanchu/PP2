#include <mpi.h>         // Подключение заголовочного файла MPI
#include <iostream>     // Подключение стандартной библиотеки ввода-вывода

int main(int argc, char** argv) {
    // Инициализация MPI-окружения
    // MPI_Init должна быть вызвана перед любыми другими MPI-функциями
    // Функция принимает аргументы командной строки (argc и argv)
    MPI_Init(&argc, &argv);

    int rank;    // Переменная для хранения номера (ранга) текущего процесса
    int size;    // Переменная для хранения общего количества процессов

    // Получение номера (ранга) текущего процесса
    // MPI_COMM_WORLD - коммуникатор, объединяющий все процессы
    // &rank - указатель, куда будет записан ранг процесса
    MPI_Comm_rank(MPI_COMM_WORLD, &rank);

    // Получение общего количества процессов в коммуникаторе MPI_COMM_WORLD
    // &size - указатель, куда будет записано общее количество процессов
    MPI_Comm_size(MPI_COMM_WORLD, &size);

    // Вывод сообщения с информацией о текущем процессе
    // Каждый процесс выведет свой ранг и общее количество процессов
    std::cout << "Hello from process " << rank << " of " << size << std::endl;

    // Завершение работы с MPI
    // Все MPI-функции должны быть завершены до вызова MPI_Finalize
    // После этого вызова нельзя использовать MPI-функции
    MPI_Finalize();

    return 0;  // Завершение программы
}